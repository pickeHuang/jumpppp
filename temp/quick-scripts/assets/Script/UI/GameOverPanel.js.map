{"version":3,"sources":["GameOverPanel.ts"],"names":[],"mappings":";;;;;AAAA,6CAA4C;AAC5C,mDAAkD;AAElD;;GAEG;AAEG,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAmC,iCAAY;IAD/C;QAAA,qEAyDC;QArDW,cAAQ,GAAY,IAAI,CAAC;QAGzB,iBAAW,GAAY,IAAI,CAAC;QAG5B,eAAS,GAAa,IAAI,CAAC;QAG3B,mBAAa,GAAa,IAAI,CAAC;QAG/B,aAAO,GAAY,IAAI,CAAC;;IAyCpC,CAAC;IAtCG,8BAAM,GAAN;QAEI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;QACpF,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QAE9E,cAAc;QAEd,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC7B,CAAC;IAEO,4BAAI,GAAZ;QAEI,IAAI,yBAAW,CAAC,QAAQ,CAAC,YAAY,EAAE,GAAG,yBAAW,CAAC,QAAQ,CAAC,YAAY,EAAE,EAAE;YAE3E,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,KAAK,GAAG,yBAAW,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;SAC3E;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,KAAK,GAAG,yBAAW,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;SAC3E;QACD,yBAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,yBAAW,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;QACpE,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,yBAAW,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,QAAQ,EAAE,CAAC;QACvE,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,UAAU;IACF,8CAAsB,GAA9B;QAEI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC9B,mBAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;IAChC,CAAC;IAED,SAAS;IACD,2CAAmB,GAA3B;QAEI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC/B,mBAAQ,CAAC,WAAW,GAAG,KAAK,CAAC;IACjC,CAAC;IApDD;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;mDACK;IAGjC;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;sDACQ;IAGpC;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC;oDACM;IAGnC;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC;wDACU;IAGvC;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;kDACI;IAfvB,aAAa;QADzB,OAAO;OACK,aAAa,CAwDzB;IAAD,oBAAC;CAxDD,AAwDC,CAxDkC,EAAE,CAAC,SAAS,GAwD9C;AAxDY,sCAAa","file":"","sourceRoot":"../../../../../assets/Script/UI","sourcesContent":["import { GameData } from \"../Game/GameData\";\nimport { GameManager } from \"../Game/GameManager\";\n\n/**\n * 游戏结束管理\n */\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport class GameOverPanel extends cc.Component {\n\n    @property({ type: cc.Node })\n    private btn_Home: cc.Node = null;\n\n    @property({ type: cc.Node })\n    private btn_Restart: cc.Node = null;\n\n    @property({ type: cc.Label })\n    private txt_Score: cc.Label = null;\n\n    @property({ type: cc.Label })\n    private txt_BestScore: cc.Label = null;\n\n    @property({ type: cc.Node })\n    private img_New: cc.Node = null;\n\n\n    onLoad() {\n\n        this.btn_Restart.on(cc.Node.EventType.TOUCH_END, this.OnRestartButtononClick, this);\n        this.btn_Home.on(cc.Node.EventType.TOUCH_END, this.OnHomeButtononClick, this);\n\n        //this.Show();\n\n        this.node.active = false;\n    }\n\n    private Show(): void {\n\n        if (GameManager.Instance.GetGameScore() > GameManager.Instance.GetBestScore()) {\n\n            this.img_New.active = true;\n            this.txt_BestScore.string = \"最高分\" + GameManager.Instance.GetBestScore();\n        } else {\n            this.img_New.active = false;\n            this.txt_BestScore.string = \"最高分\" + GameManager.Instance.GetGameScore();\n        }\n        GameManager.Instance.SaveScore(GameManager.Instance.GetGameScore());\n        this.txt_Score.string = GameManager.Instance.GetGameScore().toString();\n        this.node.active = true;\n    }\n\n    //再来一局游戏按钮\n    private OnRestartButtononClick(): void {\n\n        cc.director.loadScene(\"Game\");\n        GameData.IsAgainGame = true;\n    }\n\n    //主界面按钮点击\n    private OnHomeButtononClick(): void {\n\n        cc.director.loadScene(\"Start\");\n        GameData.IsAgainGame = false;\n    }\n}"]}